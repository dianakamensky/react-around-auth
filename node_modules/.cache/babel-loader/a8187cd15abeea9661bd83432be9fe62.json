{"ast":null,"code":"export default class Api {\n  constructor(options) {\n    this._url = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _request(path, method, body) {\n    return fetch(`${this._url}/${path}`, {\n      method: method,\n      headers: this._headers,\n      body: JSON.stringify(body)\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(res);\n    });\n  }\n\n  getInitialCards(createCard) {\n    return this._request(\"/cards\", \"GET\");\n  }\n\n  getUserInfo() {\n    return this._request(\"/users/me\", \"GET\");\n  }\n\n  updateCardLike(id, like) {\n    const method = like ? \"DELETE\" : \"PUT\";\n    return this._request(`/cards/likes/${id}`, method);\n  }\n\n  deleteCard(id) {\n    return this._request(`/cards/${id}`, \"DELETE\");\n  }\n\n  saveProfile(data) {\n    return this._request(\"/users/me\", \"PATCH\", data);\n  }\n\n  saveLocation(data) {\n    return this._request(\"/cards\", \"POST\", data);\n  }\n\n  saveAvatar(link) {\n    return this._request(\"/users/me/avatar\", \"PATCH\", {\n      avatar: link\n    });\n  }\n\n}","map":{"version":3,"names":["Api","constructor","options","_url","baseUrl","_headers","headers","_request","path","method","body","fetch","JSON","stringify","then","res","ok","json","Promise","reject","getInitialCards","createCard","getUserInfo","updateCardLike","id","like","deleteCard","saveProfile","data","saveLocation","saveAvatar","link","avatar"],"sources":["/home/kim/Dropbox/dev/react-around-auth/src/utils/ApiHandlers.js"],"sourcesContent":["export default class Api {\n  constructor(options) {\n    this._url = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _request(path, method, body) {\n    return fetch(`${this._url}/${path}`, {\n      method: method,\n      headers: this._headers,\n      body: JSON.stringify(body),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(res);\n    });\n  }\n\n  getInitialCards(createCard) {\n    return this._request(\"/cards\", \"GET\");\n  }\n\n  getUserInfo() {\n    return this._request(\"/users/me\", \"GET\");\n  }\n\n  updateCardLike(id, like) {\n    const method = like ? \"DELETE\" : \"PUT\";\n    return this._request(`/cards/likes/${id}`, method);\n  }\n\n  deleteCard(id) {\n    return this._request(`/cards/${id}`, \"DELETE\");\n  }\n\n  saveProfile(data) {\n    return this._request(\"/users/me\", \"PATCH\", data);\n  }\n\n  saveLocation(data) {\n    return this._request(\"/cards\", \"POST\", data);\n  }\n\n  saveAvatar(link) {\n    return this._request(\"/users/me/avatar\", \"PATCH\", { avatar: link });\n  }\n}\n"],"mappings":"AAAA,eAAe,MAAMA,GAAN,CAAU;EACvBC,WAAW,CAACC,OAAD,EAAU;IACnB,KAAKC,IAAL,GAAYD,OAAO,CAACE,OAApB;IACA,KAAKC,QAAL,GAAgBH,OAAO,CAACI,OAAxB;EACD;;EAEDC,QAAQ,CAACC,IAAD,EAAOC,MAAP,EAAeC,IAAf,EAAqB;IAC3B,OAAOC,KAAK,CAAE,GAAE,KAAKR,IAAK,IAAGK,IAAK,EAAtB,EAAyB;MACnCC,MAAM,EAAEA,MAD2B;MAEnCH,OAAO,EAAE,KAAKD,QAFqB;MAGnCK,IAAI,EAAEE,IAAI,CAACC,SAAL,CAAeH,IAAf;IAH6B,CAAzB,CAAL,CAIJI,IAJI,CAIEC,GAAD,IAAS;MACf,IAAIA,GAAG,CAACC,EAAR,EAAY;QACV,OAAOD,GAAG,CAACE,IAAJ,EAAP;MACD;;MACD,OAAOC,OAAO,CAACC,MAAR,CAAeJ,GAAf,CAAP;IACD,CATM,CAAP;EAUD;;EAEDK,eAAe,CAACC,UAAD,EAAa;IAC1B,OAAO,KAAKd,QAAL,CAAc,QAAd,EAAwB,KAAxB,CAAP;EACD;;EAEDe,WAAW,GAAG;IACZ,OAAO,KAAKf,QAAL,CAAc,WAAd,EAA2B,KAA3B,CAAP;EACD;;EAEDgB,cAAc,CAACC,EAAD,EAAKC,IAAL,EAAW;IACvB,MAAMhB,MAAM,GAAGgB,IAAI,GAAG,QAAH,GAAc,KAAjC;IACA,OAAO,KAAKlB,QAAL,CAAe,gBAAeiB,EAAG,EAAjC,EAAoCf,MAApC,CAAP;EACD;;EAEDiB,UAAU,CAACF,EAAD,EAAK;IACb,OAAO,KAAKjB,QAAL,CAAe,UAASiB,EAAG,EAA3B,EAA8B,QAA9B,CAAP;EACD;;EAEDG,WAAW,CAACC,IAAD,EAAO;IAChB,OAAO,KAAKrB,QAAL,CAAc,WAAd,EAA2B,OAA3B,EAAoCqB,IAApC,CAAP;EACD;;EAEDC,YAAY,CAACD,IAAD,EAAO;IACjB,OAAO,KAAKrB,QAAL,CAAc,QAAd,EAAwB,MAAxB,EAAgCqB,IAAhC,CAAP;EACD;;EAEDE,UAAU,CAACC,IAAD,EAAO;IACf,OAAO,KAAKxB,QAAL,CAAc,kBAAd,EAAkC,OAAlC,EAA2C;MAAEyB,MAAM,EAAED;IAAV,CAA3C,CAAP;EACD;;AA9CsB"},"metadata":{},"sourceType":"module"}